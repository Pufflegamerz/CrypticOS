BITS 16
ORG 0x7c00
MOV AH,2
MOV AL,10
XOR CH,CH
MOV CL,2
XOR DH,DH
MOV BX,P
INT 19
JMP P
TIMES 510 - ($ - $$) db 0
DW 0xAA55
P:MOV ECX,B
MOV ESI,T
MOV BYTE [ECX],0
ADD BYTE [ECX],50
DEC BYTE [ECX]
DEC BYTE [ECX]
INC ECX
LA:
DEC ECX
MOV AL, [ECX]
MOV AH,14
INT 16
INC ECX
MOV BYTE [ECX],0
ADD BYTE [ECX],5
ADD BYTE [ECX],5
ADD BYTE [ECX],5
ADD BYTE [ECX],5
ADD BYTE [ECX],5
ADD BYTE [ECX],5
INC BYTE [ECX]
INC BYTE [ECX]
MOV AL, [ECX]
MOV AH,14
INT 16
INC ESI
INC ESI
DEC ECX
MOV AL,[ECX]
MOV [ESI],AL
DEC ESI
INC ECX
MOV BYTE [ECX],0
ADD BYTE [ECX],50
ADD BYTE [ECX],5
INC BYTE [ECX]
INC BYTE [ECX]
MOV AL,[ECX]
MOV [ESI],AL
DEC ESI
MOV BYTE [ECX],0
INC BYTE [ECX]
MOV AL,[ECX]
MOV [ESI],AL
MOV AL,[ESI+1]
MOV AH,[ESI+2]
CMP AL,AH
JE G
DEC ECX
INC BYTE [ECX]
INC ECX
MOV BYTE [ECX],0
MOV AL,[ECX]
MOV [ESI],AL
JMP G
LB:
MOV BYTE [ECX],0
ADD BYTE [ECX],50
DEC BYTE [ECX]
MOV AL, [ECX]
MOV AH,14
INT 16
MOV BYTE [ECX],0
ADD BYTE [ECX],50
DEC BYTE [ECX]
DEC BYTE [ECX]
MOV AL, [ECX]
MOV AH,14
INT 16
CLI
HLT
G:
MOV AL,[ESI]
ADD AL,65
CMP AL,'B'
JE LB
CMP AL,'A'
JE LA
times 5120 - ($ - $$) db 0
dw 0xAA55
SECTION .bss
T RESB 50
B RESB 1000
